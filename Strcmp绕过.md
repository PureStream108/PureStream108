# Strcmp绕过

```php+HTML
<?php
  if(isset($_GET['v1']) && isset($_GET['v2']) && isset($_GET['v3'])){
  $v1 = $_GET['v1'];
  $v2 = $_GET['v2'];
  $v3 = $_GET['v3'];
  if($v1 != $v2 && md5($v1) == md5($v2)){
    if(!strcmp($v3, $flag)){
      echo $flag;
  }
}
}
?>

```

分析源码发现 v1 和 v2 是 md5 弱比较，strcmp()涉及绕过
**md5 弱比较可以使用 加密后是 0e 的字符串**绕过：v1=s1885207154a&v2=s1091221200a，相互比较的时候，会将0e这类字符串识别为科学技术法的数字，0的无论多少次方都是零，所以相等

### strcmp 绕过

```
strcmp(str1, str2)是比较两个字符串，
	如果str1<str2 则返回<0 
	如果str1大于str2返回>0 
	如果两者相等 返回0
```


我们是不知道$ flag 的值的，题目要求strcmp判断的接受的值和$flag必需相等，strcmp传入的期望类型是字符串类型，如果传入的是个数组会怎么样呢，我们传入 v3[]=xxx 可以绕过 是因为**函数接受到了不符合的类型，将发生错误，但是还是判断其相等**

因此 payload 为：?v1=s1885207154a&v2=s1091221200a&v3[]=xxxx

